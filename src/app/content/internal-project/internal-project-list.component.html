<div class="internal-projects-section">

  <h2 class="page-heading">Internal Projects</h2>
  <a class="btn btn-primary" [routerLink]="['create']">Create Project</a>

  <p [hidden]="projects.length !== 0">No Projects available.</p>

  <div class="row" *ngFor="let project of projects" [hidden]="projects.length === 0">
    <div class="col-xs-12">
      <div class="project-desc card">
        <h4>{{project.name}}</h4>
        <p>{{project.description}}</p>
        <p>Project Type - {{project.projectType}}</p>
        <p>Estimation - {{project.estimation}}</p>
        <p>Contact Person - {{project.contactPerson.name}}</p>
        <div>
          <!--technologies-->
        </div>
        <div>
          <!--vacancies-->
        </div>
        <div>
          <!--members-->
        </div>
        <div *ngIf="(currentUser.role === 'admin') || (currentUser._id === project.contactPerson._id)">
          <a class="btn btn-primary" [routerLink]="['edit', project._id]">Edit</a>
          <span class="btn btn-primary" (click)="deleteProject(event._id)">Delete</span>
        </div>
        <div *ngIf="(currentUser.role !== 'admin') && (currentUser._id !== project.contactPerson._id)">
          <button class="btn btn-primary" [disabled]="true">Edit</button>
          <button class="btn btn-primary" [disabled]="true">Delete</button>
        </div>
      </div>
    </div>
  </div>
  
</div>

<app-modal [message]="message" [modalType]="modalType" [hidden]="!showModal" (confirmed)="confirmAction($event)"></app-modal>
